(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{12:function(t,e,s){var n=s(169);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s(4)(n,a);n.locals&&(t.exports=n.locals)},168:function(t,e,s){"use strict";var n=s(12);s.n(n).a},169:function(t,e,s){(t.exports=s(3)(!1)).push([t.i,".content[data-v-44ccef60]{margin-bottom:1.5rem}.button[data-v-44ccef60]{border:none!important}#hidden[data-v-44ccef60]{display:none}",""])},207:function(t,e,s){"use strict";s.r(e);var n=s(5),a=s(0),o=s.n(a),i=s(6),c={name:"myarticle",components:{NavigationBar:n.a},props:{header:{required:!0,type:String},user:{required:!0,type:String}},data:function(){return{article:[],comment:"",comments:[],tags:[]}},methods:{closeError:function(){document.getElementById("hidden").classList.remove("visible")},formatDate:function(t){if(t)return o.a.locale("da"),o()(t).format("L")},getComments:function(){var t=this;i.post("/comment/getcomments",{header:this.header}).then((function(e){console.log(e.data),e.data.comments.length>=1&&e.data.comments.forEach((function(e){t.comments.push(e)}))})).catch((function(t){console.log(t.message)}))},sendComment:function(){var t=this;document.getElementById("commentButton").disabled=!0,i.post("/comment/sendcomment",{content:this.comment,user:this.user,header:this.header}).then((function(e){console.log(e.data.comment[0]),t.comment="",t.comments.push(e.data.comment[0])})).catch((function(e){console.log(e.message),document.getElementById("hidden").classList.add("visible"),""==t.user?(document.getElementById("errorTitle").innerHTML="Du er blevet logget ud",document.getElementById("errorText").innerHTML="Prøv at logge ind igen."):(document.getElementById("errorTitle").innerHTML="Der gik noget galt",document.getElementById("errorText").innerHTML="Prøv at logge ind igen for at sende en kommentar")})),setTimeout((function(){document.getElementById("commentButton").disabled=!1}),3e3)},deleteComment:function(t){var e=this;i.post("/comment/deleteComment",{comment_id:t,user_name:this.user}).then((function(t){console.log(t.data),e.getComments()})).catch((function(t){console.log(t.message)}))},getArticle:function(){var t=this;console.log(this.header),i.post("/articles/getarticle",{header:this.header}).then((function(e){console.log(e.data.tags),t.article=e.data.article,t.tags=e.data.tags})).catch((function(t){console.log(t.message)}))}},beforeMount:function(){this.getArticle(),this.getComments()}},r=(s(168),s(1)),l=Object(r.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"hero is-medium heroBackgroundImage",style:{backgroundImage:"url(/"+t.article.header_image+")"}},[s("div",{staticClass:"hero-head"},[s("NavigationBar",{attrs:{user:this.user}})],1),t._v(" "),s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container has-text-centered"},[s("h1",{staticClass:"title"},[t._v(t._s(t.article.header))]),t._v(" "),s("h2",{staticClass:"subtitle"},[t._v(t._s(t.formatDate(t.article.created_at)))])])])]),t._v(" "),s("section",{staticClass:"section"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-7"},[s("div",{staticClass:"container has-text-centered"},t._l(t.tags,(function(e){return s("span",{key:e.id,staticClass:"tag is-medium is-white"},[t._v(t._s(e.name))])})),0),t._v(" "),s("div",{staticClass:"container",staticStyle:{"margin-top":"3rem"},domProps:{innerHTML:t._s(t.article.content)}})])])]),t._v(" "),s("section",{staticClass:"section is-small"},[this.comments.length>=1?s("div",{staticClass:"container has-text-centered"},[s("p",{staticClass:"subtitle",staticStyle:{"margin-bottom":"3.5rem"}},[t._v("Kommentarer")])]):t._e(),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-half"},t._l(t.comments,(function(e,n){return s("div",{key:n},[s("span",[s("h6",{staticStyle:{display:"inline"}},[t._v(t._s(e.user.name))]),t._v(" "),e.user.name===t.user?s("button",{staticClass:"button is-small",staticStyle:{float:"right"},on:{"~click":function(s){return t.deleteComment(e.id)}}},[t._v("Slet")]):t._e()]),t._v(" "),s("p",{staticClass:"content"},[t._v(t._s(e.content))])])})),0)])])]),t._v(" "),t.user.length>1?s("section",{staticClass:"section is-small"},[s("div",{staticClass:"box"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"textarea",attrs:{rows:"3",placeholder:"Din kommentar"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),t._v(" "),s("div",[s("div",{staticClass:"control"},[s("button",{staticClass:"button subtitle",attrs:{id:"commentButton"},on:{click:t.sendComment}},[t._v("Kommenter")])])])])]):s("section",[t._m(0)]),t._v(" "),s("div",{staticClass:"box",attrs:{id:"hidden"}},[s("p",{staticClass:"subtitle",attrs:{id:"errorTitle"}}),t._v(" "),s("p",{staticClass:"content",attrs:{id:"errorText"}}),t._v(" "),s("button",{on:{click:function(e){return t.closeError()}}},[t._v("Close")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box"},[e("p",{staticClass:"subtitle"},[this._v("Log ind for at kommentere")])])}],!1,null,"44ccef60",null);e.default=l.exports}}]);